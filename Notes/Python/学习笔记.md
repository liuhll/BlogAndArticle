# Python学习笔记


## Python简介
- Python是一种非常高级的语言
- Python学了可以做什么？不可以做什么？
   - 可以做：日常任务 网站  游戏后台
   - 不能做 ：`操作系统` 、`手机应用`、`3D游戏`
- 内置电池**batteries included**
   - Python就为我们提供了非常完善的基础代码库，覆盖了网络、文件、GUI、数据库、文本等大量内容，被形象地称作“内置电池（batteries included）”。用Python开发，许多功能不必从零编写，直接使用现成的即可。
- Python的特点
  - **优雅**、**明确**、**简单**

- Python适合开发哪些类型的应用呢？
  1. 网络应用，包括网站、后台服务等等
  2. 许多日常需要的小工具，包括系统管理员需要的脚本任务
  3. 把其他语言开发的程序再包装起来，方便使用---*胶水语言*

- Python缺点
  1. 运行速度相对较慢  
  > Python是解释型语言，你的代码在执行时会一行一行地翻译成CPU能理解的机器码，这个翻译过程非常耗时，所以很慢
  2. 代码不能加密
  > 凡是编译型的语言，都没有这个问题，而解释型的语言，则必须把源码发布出去

## Python的集成环境
- Python是跨平台的
- Python的版本
  - Python有两个版本，一个是2.x版，一个是3.x版，这两个版本是不兼容的
- Python的安装

- Python交互式环境
  - `>>>`

## Python解释器
- 运行Python代码  
  编写Python代码时，我们得到的是一个包含Python代码的以`.py`为扩展名的文本文件，**运行代码，就需要Python解释器去执行.py文件**

- 多种Python解释器

### CPython
- 官方版本的解释器：CPython
- 解释器是用C语言开发的
- 命令行下运行python就是启动CPython解释器
- 交互式环境
   - `>>>`
### IPython
> IPython是基于CPython之上的一个交互式解释器，也就是说，IPython只是在交互方式上有所增强，但是执行Python代码的功能和CPython是完全一样的
- CPython用`>>>`作为提示符，而IPython用`In [序号]`:作为提示符。

### PyPy
- PyPy采用JIT技术，对Python代码进行动态编译（注意不是解释），所以可以**显著提高Python代码的执行速度**

### Jython

### IronPython

>Python的解释器很多，但使用最广泛的还是**CPython**。如果要和Java或.Net平台交互，最好的办法不是用Jython或IronPython，而是通过网络调用来交互，确保各程序之间的独立性

## Python的开发IDE
- Sublime Text
- Notepad++
- Pycharm
- VS Core

## 入门必知
- 必须要以`.py`结尾，其他的都不行。
- 文件名只能是英文字母、数字和下划线的组合
- 直接运行py文件
   - 在Windows上是**不行**的，但是，在Mac和Linux上是可以的

``` 
#!/usr/bin/env python

```  
然后，通过命令：

```  

$ chmod a+x hello.py
```

- Python的交互模式和直接运行.py文件有什么区别呢？

   - 直接输入python进入交互模式，相当于启动了Python解释器，但是等待你一行一行地输入源代码，每输入一行就执行一行。

   - 直接运行.py文件相当于启动了Python解释器，然后一次性把.py文件的源代码给执行了，你是没有机会输入源代码的。


## 输入和输出
-  输出
   - `print`
     > print语句也可以跟上多个字符串，用逗号“,”隔开，就可以连成一串输出：
- 输入
  - `raw_input`
  - `raw_input()`读取的内容永远以字符串的形式返回，把字符串和整数比较就不会得到期待的结果，必须先用int()把字符串转换为我们想要的整型：

  ```python
  >>> name = raw_input()
     Michael
  ```
- 标准输入输出`stdio`
  - `标准输入文件（stdin）` -- 通常对应终端的键盘；
  -  标准输出文件（stdout）
  - 标准错误输出文件（stderr）

> 输入是`Input`，输出是`Output`，因此，我们把输入输出统称为`Input/Output`，或者简写为`IO`

## Python语法基础
> 任何一种编程语言都有自己的一套语法，编译器或者解释器就是负责把符合语法的程序代码转换成CPU能够执行的机器码

- Python的语法比较简单，采用**缩进方式**
- Python的注释  
  `#这个是注释，解释器会忽略掉注释`
- 代码块
   - 语句**以冒号:结尾时，缩进的语句**视为代码块 
   - 按照约定俗成的管理，应该始终坚持*使用4个空格的缩进*
- Python程序是大小写敏感的，如果写错了大小写，程序会报错


> 日期：2016-08-23

## Python数据类型
- 整数
  - 十六进制表示整数比较方便，十六进制用0x前缀和0-9，a-f表示
- 浮点数
- 字符串
  - 字符串是以`''`或`""`括起来的任意文本，比如`'abc'`，`"xyz"`等等
  - `''`或`""`本身只是一种表示方式，不是字符串的一部分
  - 转义字符`\`
    1. \n表示换行，
    2. \t表示制表符，
    3. 字符\本身也要转义，所以\\表示的字符就是\
  - 多行字符串`'''...'''`还可以在前面加上r使用
- 布尔值
  - `True`
  - `False`
  - 布尔值可以用`and`、`or`和`not`运算
- 空值
   - `None`
   - `None`是一个特殊的空值

- 变量
  - 变量名必须是大小写英文、数字和_的组合，且不能用数字开头
  - 等号`=`是**赋值语句**，可以把任意数据类型赋值给变量，同一个变量可以反复赋值，而且**可以是不同类型的变量**
  - 对变量赋值就是把数据和变量给关联起来。

- 常量
  - 常量就是**不能变的变量**
  - 在Python中，通常用**全部大写的变量名**表示常量

## 字符串和编码
- 字符编码
  - 8个比特（bit）作为一个字节（byte）
  - `ASCII`编码
  - Unicode
  - UTF-8
- Python的字符串
  - Python提供了`ord()`和`chr()`函数，可以把字母和对应的数字相互转换
  - Python在后来添加了对Unicode的支持，以Unicode表示的字符串用`u'...'`表示
  - 把`u'xxx'`转换为UTF-8编码的'xxx'用`encode('utf-8')`方法：
  - 把UTF-8编码表示的字符串'xxx'转换为Unicode字符串u'xxx'用`decode('utf-8')`方法
  - Python源代码也是一个文本文件，所以，当你的源代码中包含中文的时候，在保存源代码时，就需要务必指定保存为UTF-8编码
  ```
  #!/usr/bin/env python
  # -*- coding: utf-8 -*-
  ```
  - `len()`函数可以返回字符串的长度：

 - 格式化
   - Python中，采用的格式化方式和C语言是一致的，用`%`实现
   ```python
   >>> 'Hi, %s, you have $%d.' % ('Michael', 1000000)
   'Hi, Michael, you have $1000000.'
   ``` 
   - `%运算符`就是用来格式化字符串的
   - 占位符
     1. %d	整数
     2. %f	浮点数
     3. %s	字符串
     4. %x	十六进制整数

  - 格式化整数和浮点数还可以指定是否补0和整数与小数的位数
   ```python
   >>> '%2d-%02d' % (3, 1)
' 3-01'
   >>> '%.2f' % 3.1415926
'3.14'
   ```
   - 不太确定应该用什么，`%s`**永远起作用**，它会把任何数据类型转换为字符串
   - 用`%%`来表示一个`%`

> Python当然也支持其他编码方式，比如把Unicode编码成GB2312：
但这种方式纯属自找麻烦，如果没有特殊业务要求，请牢记仅使用Unicode和UTF-8这两种编码方式。
## 动态语言/静态语言
- 变量本身类型不固定的语言

## 使用list和tuple
- list
   - `[]`
   - `list`是一种**有序的集合**，可以随时添加和删除其中的元素
   - `len()`函数可以获得list元素的个数
   - `索引`来访问list中每一个位置的元素，记得索引是从0开始,最后一个元素的索引是`len(classmates) - 1`
      1. `classmates.append('Adam')`
      2.把元素插入到指定的位置，比如索引号为1,`classmates.insert(1, 'Jack')`
      3. 删除list末尾的元素,用`pop()`方法
      4.删除指定位置的元素，用`pop(i)`方法
      5.list里面的元素的数据类型也可以不同
      6.list元素也可以是另一个list
      7. 空的list，它的长度为0  `L = []`
- tuple
  - 有序列表,一旦初始化就不能修改
  - 它也没有append()，insert()这样的方法。其他获取元素的方法和list是一样的，你可以正常地使用classmates[0]，classmates[-1]，**但不能赋值成另外的元素**
  - 定义一个空的tuple，可以写成`t=()`
  - 定义一个只有1个元素的tuple
     1. `()`既可以表示tuple，又可以表示数学公式中的小括号
     2. 只有1个元素的tuple定义时必须加一个逗号, `t = (1,)`
     3. *可变的*`tuple`==> t = ('a', 'b', ['A', 'B'])

## 条件判断和循环
- 条件判断
  - `if`语句:
  - `if...else`
  - `elif`
  - 只要x是非零数值、非空字符串、非空list等，就判断为True，否则为False
  ```python
  if x:
    print 'True'
  ```
- 循环（循环有两种）
  1. `for x in ...循环`
     - 把list或tuple中的每个元素迭代出来
     - `range()函数`:生成一个整数序列
  2. 循环是`while循环`

## 使用dict和set
### dict（字典）==>`d={'key':'value'}`
- dict全称dictionary，在其他语言中也称为map，使用**键-值（key-value）**存储，**具有极快的查找速度**
- 由于一个key只能对应一个value，所以，多次对一个key放入value，后面的值会把前面的值冲掉
- **读取**字典的值时，key不存在，dict就会报错
- 要避免key不存在的错误
   1. 一是通过in判断key是否存在
   2. dict提供的get方法，如果key不存在，可以返回None，或者自己指定的value
   ```python
   >>> d.get('Thomas')
   >>> d.get('Thomas', -1)
   ```
- 要删除一个key，用`pop(key)`方法，对应的value也会从dict中删除：
- 和list比较，dict有以下几个特点：
  1. 查找和插入的速度极快，不会随着key的增加而增加
  2. 需要占用大量的内存，内存浪费多
- `list`的特点
  1. 查找和插入的时间随着元素的增加而增加；
  2. 占用空间小，浪费内存很少。
> dict是用空间来换取时间的一种方法


- 需要牢记的第一条就是dict的**key必须是不可变对象**。  
- 哈希算法（Hash）
- 在Python中，字符串、整数等都是不可变的，因此，可以放心地作为key。而list是可变的，就不能作为key：
  
### set
- **一组key的集合，但不存储value。**由于key不能重复，所以，在set中，没有重复的key。
- 重复元素在set中自动被过滤
- `s = set([1, 1, 2, 2, 3, 3])`
- `add(key)`方法可以添加元素到set中，可以重复添加，但不会有效果
- `remove(key)`方法可以删除元素
- set可以看成数学意义上的**无序**和**无重复元素**的集合，因此，两个set可以做数学意义上的交集、并集等操作
```python
>>> s1 = set([1, 2, 3])
>>> s2 = set([2, 3, 4])
>>> s1 & s2
set([2, 3])
>>> s1 | s2
set([1, 2, 3, 4])
```

- set和dict的唯一区别仅在于没有存储对应的value，但是，set的原理和dict一样


## 不可变对象
- str是不变对象，而list是可变对象
- 可变对象，比如list，对list进行操作，list内部的内容是会变化的
>a.replace('a', 'A')时，实际上调用方法replace是作用在字符串对象'abc'上的，而这个方法虽然名字叫replace，但却没有改变字符串'abc'的内容。相反，replace方法创建了一个新字符串'Abc'并返回，如果我们用变量b指向该新字符串，就容易理解了，变量a仍指向原有的字符串'abc'，但变量b却指向新字符串'Abc'了
-对于不变对象来说，调用对象自身的任意方法，也不会改变该对象自身的内容。相反，**这些方法会创建新的对象并返回**，这样，就保证了不可变对象本身永远是不可变的

>日期：2016-08-24
