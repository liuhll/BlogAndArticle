# Linux文件管理

## 文件系统
`Linux`中的**所有数据都被保存在文件**中，所有的文件被分配到不同的目录。
**目录**是一种类似于树的结构，称为**文件系统**

## 文件类型
1. 普通文件  
**普通文件**是以字节为单位的数据流
   - 包括`文本文件`、`源码文件`、`可执行文件`等
   - 文本和二进制对Linux来说并无区别，对普通文件的解释由处理该文件的应用程序进行

2. 目录  
目录相当于`Windows`和`Mac OS`中的**文件夹**
   - 目录可以**包含**`普通文件`和`特殊文件`

3. 设备文件(特殊文件)  
`Linux` 与`外部设备`（例如光驱，打印机，终端，modern等）是通过一种被称为设备文件的文件来进行通信
   - Linux 输入输出到*外部设备*的方式和输入输出到一个*文件*的方式是**相同的**
   - Linux 和一个外部设备通讯之前，这个设备必须首先要有一个**设备文件存在** 
   
   > **Notes**  
   > - 设备文件和普通文件**不一样**，设备文件中并**不包含**任何数据
   > - 磁盘和CD-ROMS既可以使用字符设备文件也可以使用块设备文件

### 设备文件两种类型
1. 字符设备文件  
字符设备文件以字母`c`开头 
   - 字符设备文件向设备传送数据时，一次传送一个字符
   - 字符设备文件有时也被称为`raw设备文件`
   - 有`终端`、`打印机`、`绘图仪`、`modern`等
2. 块设备文件  
块设备文件以字母`b`开头
    - 块设备文件向设备传送数据时，先从内存中的`buffer`中读或写数据，而不是直接传送数据到物理磁盘

   
## 查看文件
使用 `ls` 命令

###  `ls` 命令的 `-l` 选项，你可以获取更多文件信息
- 第一列：文件类型。
- 第二列：表示文件个数。如果是文件，那么就是1；如果是目录，那么就是该目录中文件的数目。
- 第三列：文件的所有者，即文件的创建者。
- 第四列：文件所有者所在的用户组。在Linux中，每个用户都隶属于一个用户组。
- 第五列：文件大小（以字节计）。
- 第六列：文件被创建或上次被修改的时间。
- 第七列：文件名或目录名。

通过 `ls -l` 列出的文件，每一行都是以 `a`、`d`、`-` 或 `l` 开头，这些字符表示**文件类型**

| 前缀 |	描述 |
|:-----:|:------:| 
| -| 	普通文件。如文本文件、二进制可执行文件、源代码等。 |
| b	| 块设备文件。硬盘可以使用块设备文件。 |
| c |	字符设备文件。硬盘也可以使用字符设备文件。 |
| d	| 目录文件。目录可以包含文件和其他目录。 |
| l |	符号链接（软链接）。可以链接任何普通文件，类似于 Windows 中的快捷方式。 |
| p	| 具名管道。管道是进程间的一种通信机制。 |
| s |	用于进程间通信的套接字。 |

## 元字符
具有**特殊含义的字符**
- `*` 可以匹配 0 个或多个任意字符；
- `?` 匹配一个字符。

## 隐藏文件
**隐藏文件**的第一个字符为英文句号或点号(`.`)，Linux程序（包括Shell）通常使用隐藏文件来保存`配置信息`
- 常见的隐藏文件
   - `.profile`：Bourne shell (sh) 初始化脚本
   - `.kshrc`：Korn shell (ksh) 初始化脚本
   - `.cshrc`：C shell (csh) 初始化脚本
   - `.rhosts`：Remote shell (rsh) 配置文件

- 隐藏文件需要使用 `ls` 命令的 `-a` 选项

## 创建文件
- `vi`
- `cat`
- ...

## 编辑文件
`vi` 编辑器可以用来编辑文件
- 按 `i键`进入**编辑模式**，按照自己的方式编辑文件
- 移动光标:需要首先推出编辑模式
   - `l` 键向右移动
   - `h` 键向左移动
   - `k` 键向上移动
   - `j` 键向下移动

## 查看文件内容
使用 `cat` 命令来查看文件内容
- 通过 `cat` 命令的 `-b` 选项来**显示行号**

## 统计单词数目
使用 `wc` 命令来统计当前文件的**行数**、**单词数**和**字符数**
```
$ wc filename
2  19 103 filename
```
- 第一列：文件的总行数
- 第二列：单词数目
- 第三列：文件的字节数，即文件的大小
- 第四列：文件名

## 复制文件
使用 `cp` 命令来复制文件

## 重命名文件
使用 `mv` 命令
> **Notes:**    
> - `mv` 命令其实是一个移动文件的命令，不但可以更改文件的路径，也可以更改文件名

## 删除文件
`rm` 命令可以删除文件
- 建议结合 `-i` 选项来使用 `rm` 命令

## 标准的Linux流
一般情况下，每个Linux程序运行时都会创建**三个文件流**（三个文件）
1. `标准输入流(stdin)`：stdin的文件描述符为`0`，Linux程序默认从`stdin读取数据。
2. `标准输出流(stdout)`：stdout 的文件描述符为`1`，Linux程序默认向stdout输出数据。
3. `标准错误流(stderr)`：stderr的文件描述符为`2`，Linux程序会向stderr流中写入错误信息。